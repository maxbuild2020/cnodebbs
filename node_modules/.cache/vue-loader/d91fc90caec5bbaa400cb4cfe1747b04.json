{"remainingRequest":"/Users/frank/Desktop/project-demo/nodebbs/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/frank/Desktop/project-demo/nodebbs/src/home/components/mainlist.vue?vue&type=style&index=0&id=29a4ab4e&lang=scss&scoped=true&","dependencies":[{"path":"/Users/frank/Desktop/project-demo/nodebbs/src/home/components/mainlist.vue","mtime":1592920753020},{"path":"/Users/frank/Desktop/project-demo/nodebbs/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/frank/Desktop/project-demo/nodebbs/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/frank/Desktop/project-demo/nodebbs/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/frank/Desktop/project-demo/nodebbs/node_modules/sass-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/frank/Desktop/project-demo/nodebbs/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/frank/Desktop/project-demo/nodebbs/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKLnBhbmVsIHsKICBtYXJnaW4tcmlnaHQ6IDYuMnJlbTsKICBtaW4td2lkdGg6IDEwcmVtOwp9Ci5oZWFkZXIgewogIGJhY2tncm91bmQ6ICNmNmY2ZjY7CiAgaGVpZ2h0OiAwLjhyZW07CiAgcGFkZGluZy1sZWZ0OiAwLjNyZW07CiAgYSB7CiAgZmxvYXQ6IGxlZnQ7CiAgbWFyZ2luOiAwLjJyZW0gMC4ycmVtOwogIGhlaWdodDogMC40cmVtOwogIGxpbmUtaGVpZ2h0OiAwLjQ1cmVtOwogIGNvbG9yOiAjNzVhYTAyOwogIGZvbnQtc2l6ZTogLjNyZW07CiAgYm9yZGVyLXJhZGl1czogMC4wNXJlbTsKICB9CiAgLmFjdGl2ZXsKICBjb2xvcjogd2hpdGU7CiAgYmFja2dyb3VuZDogIzc1YWEwMjsKICB9Cn0KCi5pbm5lci1jb250ZW50IHsKICBiYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZTsKICBkaXNwbGF5OiBmbGV4OwogIHBhZGRpbmc6IC4xcmVtIC4ycmVtOwogIGFsaWduLWl0ZW1zOiBjZW50ZXI7CiAgaW1newogICAgd2lkdGg6IC42cmVtOwogIH0KICAudGl0bGUtd3JhcHsKICAgIHdpZHRoOiAxMDAlOwogICAgb3ZlcmZsb3c6IGhpZGRlbjsKICAgIHRleHQtb3ZlcmZsb3c6IGVsbGlwc2lzOwogICAgd2hpdGUtc3BhY2U6IG5vd3JhcDsKICAgIGNvbG9yOmluaGVyaXQKICB9CiAgaDMgewogICAgZm9udC1zaXplOiAuM3JlbTsKICAgIGRpc3BsYXk6IGJsb2NrOwogICAgcGFkZGluZzogLjJyZW0gMDsKICAgIHRleHQtYWxpZ246IGxlZnQ7CiAgICAmOmJlZm9yZSB7CiAgICAgIGNvbnRlbnQ6IGF0dHIodGl0bGUpOwogICAgICBwYWRkaW5nOiAuMDJyZW0gLjAxcmVtIC4wM3JlbSAuMDFyZW07CiAgICAgIGZvbnQtc2l6ZTogLjJyZW07CiAgICAgIG1hcmdpbjogMCAuMXJlbTsKICAgICAgY29sb3I6d2hpdGU7CiAgICAgIHdpZHRoOiAuMnJlbTsKICAgICAgYm9yZGVyLXJhZGl1czogLjA2cmVtOwogICAgfQogICAgJi50b3A6YmVmb3JlIHsKICAgICAgYmFja2dyb3VuZDojNzVhYTAyOwogICAgfQogICAgJi5nb29kOmJlZm9yZSB7CiAgICAgIGJhY2tncm91bmQ6Izc1YWEwMjsKICAgIH0KICAgICYuYXNrOmJlZm9yZSwgJi5zaGFyZTpiZWZvcmUsICYuam9iOmJlZm9yZXsKICAgICAgYmFja2dyb3VuZDogI2NjYzsKICAgIH0KICB9CiAgLnJlcGx5X2NvdW50ewogICAgcGFkZGluZzogMCAuMXJlbTsKICAgIHdpZHRoOiAxLjJyZW07CiAgICBtaW4td2lkdGg6MS4ycmVtOwogICAgZm9udC1zaXplOiAuMnJlbTsKICB9CiAgLmxhc3QtcmVweXsKICAgIHdpZHRoOiAxLjhyZW07CiAgICBtaW4td2lkdGg6IDEuOHJlbTsKICB9Cn0KCi5wYWdpbmF0ZS1saXN0IHsKICBwYWRkaW5nOiAwIDAuMnJlbSAxcmVtIDAuMnJlbTsKICBiYWNrZ3JvdW5kOiB3aGl0ZTsKICBoZWlnaHQ6IDA7CiAgb3ZlcmZsb3c6IGhpZGRlbjsKICBwYWRkaW5nLWJvdHRvbTogMTdyZW07CiAgcm91dGVyLWxpbmsgYXsKICAgIGNvbG9yOiBibGFjazsKICB9Cn0KLnBhZ2luYXRlLWxpbmtzIHsKICBkaXNwbGF5OiBmbGV4OwogIG1hcmdpbi10b3A6IC0wLjZyZW07CiAgcGFkZGluZy1ib3R0b206IC4ycmVtOwogIGp1c3RpZnktY29udGVudDogY2VudGVyOwogIHBvc2l0aW9uOiByZWxhdGl2ZTsKICBmb250LXNpemU6IC40cmVtOwp9Cg=="},{"version":3,"sources":["mainlist.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"mainlist.vue","sourceRoot":"src/home/components","sourcesContent":["<template>\n  <div> \n    <div class=\"panel\">\n      <div class=\"header\">\n        <router-link :to=\"{query:{tab:'all'}}\" :class=\"{'active':$route.query.tab ==='all'}\">\n          <span>全部</span>\n        </router-link>\n        <router-link :to=\"{query:{tab:'good'}}\" :class=\"{'active':$route.query.tab ==='good'}\"><span>精华</span></router-link>\n        <router-link :to=\"{query:{tab:'share'}}\" :class=\"{'active':$route.query.tab ==='share'}\" ><span>分享</span></router-link>\n        <router-link :to=\"{query:{tab:'ask'}}\" :class=\"{'active':$route.query.tab ==='ask'}\"><span>问题</span></router-link>\n        <router-link :to=\"{query:{tab:'job'}}\" :class=\"{'active':$route.query.tab ==='job'}\"><span>招聘</span></router-link>\n      </div>  \n    <paginate name=\"posts\" :list=\"posts\" class=\"paginate-list\" :per=\"18\">\n      \n      <div class=\"inner-content border-bottom\" v-for=\"post in paginated('posts')\" :key=\"post.id\">\n\n        <img :src=\"post.author.avatar_url\"/>\n        <span class=\"reply_count\">{{post.reply_count}}/{{post.visit_count}}</span>\n      <router-link class=\"title-wrap\" :to=\"'/postview/'+ post.id\">  \n        <h3\n          v-text=\"post.title\"\n          :class=\"getTabInfo(post.tab, post.good, post.top, true)\"\n          :title=\"getTabInfo(post.tab, post.good, post.top, false)\"\n        ></h3>\n      </router-link>\n        <span class=\"last-repy\">{{ post.last_reply_at | timerCount}}</span>\n\n      </div>\n      \n    </paginate>\n    <paginate-links for=\"posts\" :show-step-links=\"true\" :limit=\"4\"></paginate-links>\n    </div>\n  </div>\n</template>\n\n<script>\nimport utils from \"../../fn/utils\";\nimport axios from \"axios\";\nimport moment from \"moment\";\nexport default {\n  name: \"mainList\",\n  data() {\n    return {\n      post:[],\n      posts: [],\n      paginate: [\"posts\"],\n      searchKey: {\n        tab: 'all',\n        mdrender: true\n      },\n      currentPage: 47,\n      totalPages: 50\n    }\n  },\n  filters: {\n    timerCount: function(value) {\n      moment.locale(\"zh-cn\");\n      return moment(value)\n        .startOf(\"day\")\n        .fromNow();\n    }\n  },\n  methods: {\n    async getData() {\n      let tabValue = this.$route.query.tab\n      let res = await axios.get('https://cnodejs.org/api/v1/topics', {\n        params: {\n          tab: tabValue,\n          mdrender: true\n        }\n      })\n      this.posts = res.data.data\n      // console.log(this.posts)\n    },\n    getTabInfo(tab, good, top, isClass) {\n      return utils.getTabInfo(tab, good, top, isClass);\n    }\n  },\n  mounted() {\n    this.getData();\n    console.log(sessionStorage.userToken==true)\n  },\n  \n  watch: {\n    $route (to) {\n      // console.log(from)\n        if (to.query && to.query.tab) {\n            this.searchKey.tab = to.query.tab;\n            console.log(this.searchKey.tab)\n        }\n        this.getData();\n    }\n  }\n}\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style lang=\"scss\" scoped>\n\n.panel {\n  margin-right: 6.2rem;\n  min-width: 10rem;\n}\n.header {\n  background: #f6f6f6;\n  height: 0.8rem;\n  padding-left: 0.3rem;\n  a {\n  float: left;\n  margin: 0.2rem 0.2rem;\n  height: 0.4rem;\n  line-height: 0.45rem;\n  color: #75aa02;\n  font-size: .3rem;\n  border-radius: 0.05rem;\n  }\n  .active{\n  color: white;\n  background: #75aa02;\n  }\n}\n\n.inner-content {\n  background-color: white;\n  display: flex;\n  padding: .1rem .2rem;\n  align-items: center;\n  img{\n    width: .6rem;\n  }\n  .title-wrap{\n    width: 100%;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n    color:inherit\n  }\n  h3 {\n    font-size: .3rem;\n    display: block;\n    padding: .2rem 0;\n    text-align: left;\n    &:before {\n      content: attr(title);\n      padding: .02rem .01rem .03rem .01rem;\n      font-size: .2rem;\n      margin: 0 .1rem;\n      color:white;\n      width: .2rem;\n      border-radius: .06rem;\n    }\n    &.top:before {\n      background:#75aa02;\n    }\n    &.good:before {\n      background:#75aa02;\n    }\n    &.ask:before, &.share:before, &.job:before{\n      background: #ccc;\n    }\n  }\n  .reply_count{\n    padding: 0 .1rem;\n    width: 1.2rem;\n    min-width:1.2rem;\n    font-size: .2rem;\n  }\n  .last-repy{\n    width: 1.8rem;\n    min-width: 1.8rem;\n  }\n}\n\n.paginate-list {\n  padding: 0 0.2rem 1rem 0.2rem;\n  background: white;\n  height: 0;\n  overflow: hidden;\n  padding-bottom: 17rem;\n  router-link a{\n    color: black;\n  }\n}\n.paginate-links {\n  display: flex;\n  margin-top: -0.6rem;\n  padding-bottom: .2rem;\n  justify-content: center;\n  position: relative;\n  font-size: .4rem;\n}\n</style>\n"]}]}