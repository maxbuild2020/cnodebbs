{"remainingRequest":"/Users/frank/Desktop/project-demo/nodebbs/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/frank/Desktop/project-demo/nodebbs/src/home/components/postview.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/frank/Desktop/project-demo/nodebbs/src/home/components/postview.vue","mtime":1594572423350},{"path":"/Users/frank/Desktop/project-demo/nodebbs/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/frank/Desktop/project-demo/nodebbs/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/frank/Desktop/project-demo/nodebbs/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/frank/Desktop/project-demo/nodebbs/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCAnZ2l0aHViLW1hcmtkb3duLWNzcycKaW1wb3J0IHV0aWxzIGZyb20gIi4uLy4uL2ZuL3V0aWxzIjsKaW1wb3J0IGF4aW9zIGZyb20gImF4aW9zIjsKaW1wb3J0IG1vbWVudCBmcm9tICJtb21lbnQiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogInBvc3RWaWV3IiwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgaXRlbUlkOiAnJywKICAgICAgcG9zdEl0ZW06IFtdLAogICAgICBmbGFnOiBmYWxzZQogICAgfQogIH0sCiAgZmlsdGVyczp7CiAgICB0aW1lckNvdW50OiBmdW5jdGlvbiAodmFsdWUpIHsKICAgICAgbW9tZW50LmxvY2FsZSgiemgtY24iKTsKICAgICAgcmV0dXJuIG1vbWVudCh2YWx1ZSkKICAgICAgICAuc3RhcnRPZigiZGF5IikKICAgICAgICAuZnJvbU5vdygpOwogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgYXN5bmMgZ2V0RGF0YSgpIHsKICAgICAgdGhpcy5pdGVtSWQgPSB0aGlzLiRyb3V0ZS5wYXJhbXMuaWQKICAgICAgbGV0IHJlcyA9IGF3YWl0IGF4aW9zLmdldCgnaHR0cHM6Ly9jbm9kZWpzLm9yZy9hcGkvdjEvdG9waWMvJyArIHRoaXMuaXRlbUlkICkKICAgICAgdGhpcy5wb3N0SXRlbSA9IHJlcy5kYXRhLmRhdGEKICAgICAgdGhpcy5mbGFnID0gdHJ1ZQogICAgfSwKICAgIGdldFRhYkluZm8odGFiLCBnb29kLCB0b3AsIGlzQ2xhc3MpIHsKICAgICAgcmV0dXJuIHV0aWxzLmdldFRhYkluZm8odGFiLCBnb29kLCB0b3AsIGlzQ2xhc3MpOwogICAgfQogIH0sCiAgbW91bnRlZCgpIHsgIAogICAgdGhpcy5nZXREYXRhKCk7CiAgfQp9IAo="},{"version":3,"sources":["postview.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"postview.vue","sourceRoot":"src/home/components","sourcesContent":["<template>\n  <div class=\"container\" > \n    <div class=\"sidebar\"></div>\n    <div class=\"panel\">\n      <div class=\"header\">\n          <div class=\"header-content\">\n            <h3 v-text=\"postItem.title\"\n              :class=\"getTabInfo(postItem.tab, postItem.good, postItem.top, true)\"\n              :title=\"getTabInfo(postItem.tab, postItem.good, postItem.top, false)\"\n            ></h3>\n            <div class=\"title-detail\">\n              <span>发布于{{postItem.create_at | timerCount}}</span> |\n              <span v-if=\"flag\">作者 {{postItem.author.loginname}}</span>｜\n              <span>{{postItem.visit_count}}次浏览</span> ｜\n              <span>来自分享</span>\n              </div>\n          </div>\n      </div>\n      <div class=\"inner-content\">\n        <div class=\"markdown-body\" v-html=\"postItem.content\"></div>\n      </div>\n    </div>\n\n    <div class=\"panel \">\n      <div class=\"reply\">\n          <div class=\"header-content\">\n            <span class=\"reply\" v-if=\"flag\">{{postItem.replies.length}}回复</span>\n          </div>\n      </div>\n      <div class=\"inner-content\">\n        <div v-for=\"item in postItem.replies\" :key=\"item.id\">\n          <div class=\"reply-wrapp border-bottom\">\n            <img :src=\"item.author.avatar_url\">\n            <div class=\"reply-user\">{{item.author.loginname}} {{item.create_at | timerCount}}\n              <div class=\"reply-content\" v-html=\"item.content\"></div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport 'github-markdown-css'\nimport utils from \"../../fn/utils\";\nimport axios from \"axios\";\nimport moment from \"moment\";\nexport default {\n  name: \"postView\",\n  data() {\n    return {\n      itemId: '',\n      postItem: [],\n      flag: false\n    }\n  },\n  filters:{\n    timerCount: function (value) {\n      moment.locale(\"zh-cn\");\n      return moment(value)\n        .startOf(\"day\")\n        .fromNow();\n    }\n  },\n  methods: {\n    async getData() {\n      this.itemId = this.$route.params.id\n      let res = await axios.get('https://cnodejs.org/api/v1/topic/' + this.itemId )\n      this.postItem = res.data.data\n      this.flag = true\n    },\n    getTabInfo(tab, good, top, isClass) {\n      return utils.getTabInfo(tab, good, top, isClass);\n    }\n  },\n  mounted() {  \n    this.getData();\n  }\n} \n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style lang=\"scss\" scoped>\n.container {\n  width: 90%;\n  margin: 0.3rem auto;\n  min-height: 8rem;\n  position: relative;\n  overflow: hidden;\n}\n\n.sidebar {\n  width: 5.8rem;\n  float: right;\n}\n.panel {\n  margin-right: 6.2rem;\n  padding-bottom: .2rem;\n  min-width: 10rem;\n}\n.header-content {\n  background: #f6f6f6;\n  text-align: left;\n  border-radius: .1rem;\n  padding: .3rem .4rem;\n  h3 {\n    font-size: .3rem;\n    display: block;\n    padding: .2rem 0;\n    text-align: left;\n    &:before {\n      content: attr(title);\n      padding: .02rem .01rem .03rem .01rem;\n      font-size: .2rem;\n      margin: 0 .1rem;\n      color:white;\n      width: .2rem;\n      border-radius: .06rem;\n    }\n    &.top:before {\n      background:#75aa02;\n    }\n    &.good:before {\n      background:#75aa02;\n    }\n    &.ask:before, &.share:before, &.job:before{\n      background: #ccc;\n    }\n  }\n  \n  .title-detail{\n    font-size: .2rem;\n    color: #666;\n  }\n  .reply{\n    font-size: .3rem;\n  }\n}\n.inner-content {\n  background-color: white;\n  padding: .1rem .4rem;\n  text-align: left;\n}\n.reply-wrapp{\n  display: flex;\n  padding: .2rem 0;\n  img {\n    width: .6rem;\n    height: .6rem;\n  }\n  .reply-user{\n    padding-left: .3rem;\n    display: inline-block;\n  }\n  .reply-content{\n    padding: .1rem 0;\n  }\n}\n</style>\n"]}]}