{"remainingRequest":"/Users/frank/Documents/GitHub/cnodebbs-vue2/node_modules/thread-loader/dist/cjs.js!/Users/frank/Documents/GitHub/cnodebbs-vue2/node_modules/babel-loader/lib/index.js!/Users/frank/Documents/GitHub/cnodebbs-vue2/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/frank/Documents/GitHub/cnodebbs-vue2/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/frank/Documents/GitHub/cnodebbs-vue2/src/home/components/postview.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/frank/Documents/GitHub/cnodebbs-vue2/src/home/components/postview.vue","mtime":1594572423350},{"path":"/Users/frank/Documents/GitHub/cnodebbs-vue2/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/frank/Documents/GitHub/cnodebbs-vue2/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/frank/Documents/GitHub/cnodebbs-vue2/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/frank/Documents/GitHub/cnodebbs-vue2/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/frank/Documents/GitHub/cnodebbs-vue2/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiL1VzZXJzL2ZyYW5rL0RvY3VtZW50cy9HaXRIdWIvY25vZGViYnMtdnVlMi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCAnZ2l0aHViLW1hcmtkb3duLWNzcyc7CmltcG9ydCB1dGlscyBmcm9tICIuLi8uLi9mbi91dGlscyI7CmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CmltcG9ydCBtb21lbnQgZnJvbSAibW9tZW50IjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJwb3N0VmlldyIsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGl0ZW1JZDogJycsCiAgICAgIHBvc3RJdGVtOiBbXSwKICAgICAgZmxhZzogZmFsc2UKICAgIH07CiAgfSwKICBmaWx0ZXJzOiB7CiAgICB0aW1lckNvdW50OiBmdW5jdGlvbiB0aW1lckNvdW50KHZhbHVlKSB7CiAgICAgIG1vbWVudC5sb2NhbGUoInpoLWNuIik7CiAgICAgIHJldHVybiBtb21lbnQodmFsdWUpLnN0YXJ0T2YoImRheSIpLmZyb21Ob3coKTsKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIGdldERhdGE6IGZ1bmN0aW9uIGdldERhdGEoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciByZXM7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX3RoaXMuaXRlbUlkID0gX3RoaXMuJHJvdXRlLnBhcmFtcy5pZDsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAzOwogICAgICAgICAgICAgICAgcmV0dXJuIGF4aW9zLmdldCgnaHR0cHM6Ly9jbm9kZWpzLm9yZy9hcGkvdjEvdG9waWMvJyArIF90aGlzLml0ZW1JZCk7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgIHJlcyA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgICBfdGhpcy5wb3N0SXRlbSA9IHJlcy5kYXRhLmRhdGE7CiAgICAgICAgICAgICAgICBfdGhpcy5mbGFnID0gdHJ1ZTsKCiAgICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGdldFRhYkluZm86IGZ1bmN0aW9uIGdldFRhYkluZm8odGFiLCBnb29kLCB0b3AsIGlzQ2xhc3MpIHsKICAgICAgcmV0dXJuIHV0aWxzLmdldFRhYkluZm8odGFiLCBnb29kLCB0b3AsIGlzQ2xhc3MpOwogICAgfQogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHRoaXMuZ2V0RGF0YSgpOwogIH0KfTs="},{"version":3,"sources":["postview.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4CA,OAAA,qBAAA;AACA,OAAA,KAAA,MAAA,gBAAA;AACA,OAAA,KAAA,MAAA,OAAA;AACA,OAAA,MAAA,MAAA,QAAA;AACA,eAAA;AACA,EAAA,IAAA,EAAA,UADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,MAAA,EAAA,EADA;AAEA,MAAA,QAAA,EAAA,EAFA;AAGA,MAAA,IAAA,EAAA;AAHA,KAAA;AAKA,GARA;AASA,EAAA,OAAA,EAAA;AACA,IAAA,UAAA,EAAA,oBAAA,KAAA,EAAA;AACA,MAAA,MAAA,CAAA,MAAA,CAAA,OAAA;AACA,aAAA,MAAA,CAAA,KAAA,CAAA,CACA,OADA,CACA,KADA,EAEA,OAFA,EAAA;AAGA;AANA,GATA;AAiBA,EAAA,OAAA,EAAA;AACA,IAAA,OADA,qBACA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA,gBAAA,KAAA,CAAA,MAAA,GAAA,KAAA,CAAA,MAAA,CAAA,MAAA,CAAA,EAAA;AADA;AAAA,uBAEA,KAAA,CAAA,GAAA,CAAA,sCAAA,KAAA,CAAA,MAAA,CAFA;;AAAA;AAEA,gBAAA,GAFA;AAGA,gBAAA,KAAA,CAAA,QAAA,GAAA,GAAA,CAAA,IAAA,CAAA,IAAA;AACA,gBAAA,KAAA,CAAA,IAAA,GAAA,IAAA;;AAJA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA,KANA;AAOA,IAAA,UAPA,sBAOA,GAPA,EAOA,IAPA,EAOA,GAPA,EAOA,OAPA,EAOA;AACA,aAAA,KAAA,CAAA,UAAA,CAAA,GAAA,EAAA,IAAA,EAAA,GAAA,EAAA,OAAA,CAAA;AACA;AATA,GAjBA;AA4BA,EAAA,OA5BA,qBA4BA;AACA,SAAA,OAAA;AACA;AA9BA,CAAA","sourcesContent":["<template>\n  <div class=\"container\" > \n    <div class=\"sidebar\"></div>\n    <div class=\"panel\">\n      <div class=\"header\">\n          <div class=\"header-content\">\n            <h3 v-text=\"postItem.title\"\n              :class=\"getTabInfo(postItem.tab, postItem.good, postItem.top, true)\"\n              :title=\"getTabInfo(postItem.tab, postItem.good, postItem.top, false)\"\n            ></h3>\n            <div class=\"title-detail\">\n              <span>发布于{{postItem.create_at | timerCount}}</span> |\n              <span v-if=\"flag\">作者 {{postItem.author.loginname}}</span>｜\n              <span>{{postItem.visit_count}}次浏览</span> ｜\n              <span>来自分享</span>\n              </div>\n          </div>\n      </div>\n      <div class=\"inner-content\">\n        <div class=\"markdown-body\" v-html=\"postItem.content\"></div>\n      </div>\n    </div>\n\n    <div class=\"panel \">\n      <div class=\"reply\">\n          <div class=\"header-content\">\n            <span class=\"reply\" v-if=\"flag\">{{postItem.replies.length}}回复</span>\n          </div>\n      </div>\n      <div class=\"inner-content\">\n        <div v-for=\"item in postItem.replies\" :key=\"item.id\">\n          <div class=\"reply-wrapp border-bottom\">\n            <img :src=\"item.author.avatar_url\">\n            <div class=\"reply-user\">{{item.author.loginname}} {{item.create_at | timerCount}}\n              <div class=\"reply-content\" v-html=\"item.content\"></div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport 'github-markdown-css'\nimport utils from \"../../fn/utils\";\nimport axios from \"axios\";\nimport moment from \"moment\";\nexport default {\n  name: \"postView\",\n  data() {\n    return {\n      itemId: '',\n      postItem: [],\n      flag: false\n    }\n  },\n  filters:{\n    timerCount: function (value) {\n      moment.locale(\"zh-cn\");\n      return moment(value)\n        .startOf(\"day\")\n        .fromNow();\n    }\n  },\n  methods: {\n    async getData() {\n      this.itemId = this.$route.params.id\n      let res = await axios.get('https://cnodejs.org/api/v1/topic/' + this.itemId )\n      this.postItem = res.data.data\n      this.flag = true\n    },\n    getTabInfo(tab, good, top, isClass) {\n      return utils.getTabInfo(tab, good, top, isClass);\n    }\n  },\n  mounted() {  \n    this.getData();\n  }\n} \n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style lang=\"scss\" scoped>\n.container {\n  width: 90%;\n  margin: 0.3rem auto;\n  min-height: 8rem;\n  position: relative;\n  overflow: hidden;\n}\n\n.sidebar {\n  width: 5.8rem;\n  float: right;\n}\n.panel {\n  margin-right: 6.2rem;\n  padding-bottom: .2rem;\n  min-width: 10rem;\n}\n.header-content {\n  background: #f6f6f6;\n  text-align: left;\n  border-radius: .1rem;\n  padding: .3rem .4rem;\n  h3 {\n    font-size: .3rem;\n    display: block;\n    padding: .2rem 0;\n    text-align: left;\n    &:before {\n      content: attr(title);\n      padding: .02rem .01rem .03rem .01rem;\n      font-size: .2rem;\n      margin: 0 .1rem;\n      color:white;\n      width: .2rem;\n      border-radius: .06rem;\n    }\n    &.top:before {\n      background:#75aa02;\n    }\n    &.good:before {\n      background:#75aa02;\n    }\n    &.ask:before, &.share:before, &.job:before{\n      background: #ccc;\n    }\n  }\n  \n  .title-detail{\n    font-size: .2rem;\n    color: #666;\n  }\n  .reply{\n    font-size: .3rem;\n  }\n}\n.inner-content {\n  background-color: white;\n  padding: .1rem .4rem;\n  text-align: left;\n}\n.reply-wrapp{\n  display: flex;\n  padding: .2rem 0;\n  img {\n    width: .6rem;\n    height: .6rem;\n  }\n  .reply-user{\n    padding-left: .3rem;\n    display: inline-block;\n  }\n  .reply-content{\n    padding: .1rem 0;\n  }\n}\n</style>\n"],"sourceRoot":"src/home/components"}]}